# A basic .muttrc for use with Gmail

# Change the following six lines to match your Gmail account details
set imap_user = "dimaroxx@gmail.com"
set imap_pass = "qwerasdfzxcv3"
set smtp_url = "smtp://dimaroxx@smtp.gmail.com:587/"
set smtp_pass = "qwerasdfzxcv3"
set from = "dimaroxx@gmail.com"
set realname = "Dimaroxx"

# Change the following line to a different editor you prefer.
set editor = "vim"
set edit_headers=yes # See the headers when editing
set ispell = "aspell -e -c"

# Basic config, you can leave this as is
set folder = "imaps://imap.gmail.com:993"
set spoolfile = "+INBOX"
set imap_check_subscribed
set hostname = gmail.com
set mail_check = 120
set timeout = 300
set imap_keepalive = 300
set postponed = "+[GMail]/Drafts"
set record = "+[GMail]/Sent Mail"
set header_cache=~/.mutt/cache/headers
set message_cachedir=~/.mutt/cache/bodies
set certificate_file=~/.mutt/certificates
set move = no
set include
set sort = 'threads'
set sort_aux = 'reverse-last-date-received'
set auto_tag = yes
ignore "Authentication-Results:"
ignore "DomainKey-Signature:"
ignore "DKIM-Signature:"
hdr_order Date From To Cc
alternative_order text/plain text/html *
auto_view text/html
bind editor <Tab> complete-query
bind editor ^T complete
bind editor <space> noop

# Gmail-style keyboard shortcuts
macro index,pager y "<enter-command>unset trash\n <delete-message>" "Gmail archive message"
macro index,pager d "<enter-command>set trash=\"imaps://imap.googlemail.com/[GMail]/Bin\"\n <delete-message>" "Gmail delete message"
macro index,pager gi "<change-folder>=INBOX<enter>" "Go to inbox"
macro index,pager ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
macro index,pager gs "<change-folder>=[Gmail]/Starred<enter>" "Go to starred messages"
macro index,pager gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"

# set up the sidebar, default not visible
#set sidebar_width=12
#set sidebar_visible=no
#set sidebar_delim='|'
#set sidebar_sort=yes

# which mailboxes to list in the sidebar
#mailboxes =inbox =ml

# color of folders with new mail
#color sidebar_new yellow default

# ctrl-n, ctrl-p to select next, prev folder
# ctrl-o to open selected folder
# bind index CP sidebar-prev
# bind index CN sidebar-next
# bind index CO sidebar-open
# bind pager CP sidebar-prev
# bind pager CN sidebar-next
# bind pager CO sidebar-open

# I don’t need these. just for documentation purposes. See below.
# sidebar-scroll-up
# sidebar-scroll-down

# b toggles sidebar visibility
#macro index b ‘<enter-command>toggle sidebar_visible<enter>’
#macro pager b ‘<enter-command>toggle sidebar_visible<enter>’

# Remap bounce-message function to “B”
bind index B bounce-message

#
# Mario Holbe suggests:
# macro index b ‘<enter-command>toggle sidebar_visible<enter><refresh>’
# macro pager b ‘<enter-command>toggle sidebar_visible<enter><redraw-screen>’
#
# Section: Colors {{{1
# --------------------
# https://github.com/tpope/tpope/blob/master/.muttrc
#`mutt -v|grep +HAVE_COLOR >/dev/null && [ -f ~/.muttrc.color ] && echo source ~/.muttrc.color || echo set`
color normal white black
color attachment brightwhite black
color hdrdefault cyan black
color indicator black cyan
color markers brightblack black
color quoted green black
color signature cyan black
color status brightgreen blue
color tilde blue black
color tree red black

# Headers
color header brightblue black ^(Delivered-|X-Original-|Envelope-)?To:
color header brightblue black ^Bcc:
color header brightblue black ^Cc:
color header brightgreen black ^From
color header brightgreen black From:|-from:
color header brightgreen black Return-[Pp]ath:
color header brightgreen black ^(X-)?Sender:
color header brightgreen black ^Reply-To:
color header brightgreen black ^Mail-Followup-To:
color header brightgreen black ^X-Disposition-Notification-To:
color header brightgreen black ^X-URL:
color header magenta black ^Date:
color header magenta black ^Delivery-date:
color header magenta black ^Posted:
color header magenta black ^NNTP-Posting-Date:
color header brightcyan black ^Subject:
color header brightwhite black ^X-All-Your-Base-Are-Belong-To:
color header green black ^Received:
color header green black ^Message-ID:
color header green black ^References:
color header green black ^In-Reply-To:
color header green black ^Organi[sz]ation:
color header green black ^X-Trace:
color header green black ^Injection-Info:
color header yellow black ^X-Spam-
color header red black ^Status:
color header red black ^Content-Length:
color header red black ^Lines:
color header brightyellow black ^(X-)?Mime
color header brightyellow black ^(Old-)?Content-(Type|Disposition|Transfer-Encoding):
color header brightyellow black ^User-Agent:
color header brightyellow black ^X-Mailer[A-Za-z-]*:
color header brightyellow black ^X-Editor:
color header brightyellow black ^X-Operating-System:
color header brightyellow black ^X-Newsreader:
color header brightyellow black ^X-Accept-Language:
color header brightyellow black ^X-MSMail-
color header brightyellow black ^(X-)?Priority:
color header brightyellow black ^(X-)?Priority:
color header brightyellow black ^X-HTTP-UserAgent:
color header brightblack black ^X-HotPOP-Delivered-To:
color header brightblack black ^X-Face:
mono header bold ^From:
mono header bold ^To:
mono header bold ^Cc:
mono header bold ^Subject:
mono header bold ^X-All-Your-Base-Are-Belong-To:

# URL highlighting
color body brightred black `cat "$HOME/.urlview"|sed -ne 's/^REGEXP //;ta' -e b -e :a -e 's/\([ ";.?]\)/\\\1/g;p'|tee /tmp/url.log`
mono body bold `cat "$HOME/.urlview"|sed -ne 's/^REGEXP //;ta' -e b -e :a -e 's/\([ ";.?]\)/\\\1/g;p'|tee /tmp/url.log`

# Email highlighting
color body brightmagenta black "[-a-z_0-9%.]+@[-a-z_0-9.]*[-a-z_0-9]"
mono body bold "[-a-z_0-9%.]+@[-a-z_0-9.]*[-a-z_0-9]"

# Bad PGP signature
color body brightwhite red "Bad signature from.*"
mono body bold "Bad signature from.*"

# Formatting
color body brightwhite black "(^| |\t)\\*[a-z0-9]([a-z0-9-]* ){,3}[a-z0-9,.!?-]*\\*"
color body brightyellow black "(^| |\t)_[a-z0-9]([a-z0-9-]* ){,6}[a-z0-9,.!?-]+_"
color body brightyellow black "(^| |\t)_[a-z0-9][a-z0-9,.!?_-]*_"

# Misc
color body brightblack black "^[-_=*]{3,}\n"
color body yellow black "^SPAM:"

# Section: Options {{{1
# ---------------------
set meta_key
set allow_ansi
set noconfirmappend
set fast_reply
set nopipe_decode
set nowait_key
set record==sent
set postponed==postponed
set index_format="%4C %Z %(%b %d %H:%M) %-15.15F (%?l?%4l&%4c?) %s"
set move=no
set sort=threads
set sort_aux=date-received
set sort_browser=reverse-date
set mime_forward=ask-no
set status_format="-%r-Mutt@%h:%f [Msgs:%?M?%M/?%m%?n? New:%n?%?o? Old:%o?%?d? Del:%d?%?F? Flag:%F?%?t? Tag:%t?%?p? Post:%p?%?b? Inc:%b?%?l? %l?]---(%s/%S)-%>-(%P)---"
set alias_file=~/.mail_aliases
set sendmail_wait=1
`test "$GPG_AGENT_INFO" && echo set pgp_use_gpg_agent || echo set`
set pgp_replysign
#`[ -s "$HOME/.gnupg/secring.gpg" ] && echo set pgp_autosign || echo set nopgp_autosign`
set nopgp_autosign
set pgp_replysignencrypted
set pgp_timeout=900
set nouse_domain
set nouse_from
auto_view text/richtext text/html
#set implicit_autoview
alternative_order text/enriched text/richtext text/plain text
#mime_lookup application/octet-stream
#

# Section: Headers {{{1
# ---------------------
unhdr_order *
hdr_order Date: Delivery-date: To: Envelope-to: Delivered-To: X-Original-To: Cc: Bcc: From From: Reply-To: X-Disposition-Notification-To: Mail-Followup-To: X-URL: Organization: Organisation: X-MimeOLE User-Agent: X-HTTP-UserAgent: X-Mailer: X-Newsreader: X-Editor: X-Operating-System: Subject: X-Spam-Status:

# my_hdr X-Face: v\`JKpo,b5$)a,tsNE*-C*G\;\\nd27sN0\#)PC&3z!EY,H_j.3Vv0D*9WzU$:v\`azl2B~J@1\;K\n VucJ2UwOKJU2>phfPKU[[NZ\`tgMT\`~@CS-0A!rQ\"W({|&uXCG8%W-i]\'i~+0MBLH(&!a*ta1w-,ll{\n %lCi\`a\$nH\"!v@x\'%h1B~^OSz1BV+B\;3Rt-y&U}0_h04lIMVe53~rE:l[WSS[_=\;aZrq%N\'W.1ipwXX\n ]?\"%GUe?)-2ac\"&F\#SyIYi.9)Z*6p\\%b6hYCF}>bGW
# my_hdr X-All-Your-Base-Are-Belong-To: Us

# Header weeding

unignore Date User-Agent X-Mailer
ignore Envelope-to X-OriginalArrivalTime X-ClientAddr X-Originating-IP X-UID
ignore Importance X-Keywords Delivery-date X-Apparently-To X-Apparently-From
ignore X-Authentication-Info List- Mailing-List X-IMAPbase Old-Content-Type
ignore X-Message-Info X-gotmail-version X-Virus-Scanned Authentication-Results
ignore X-Spam-Flag X-Spam-Level X-Spam-Checker-Version X-Spam-Prev
ignore X-All-Your-Base-Are-Belong-To X-BFI X-HotPOP-Delivered-To X-Return-Path
ignore X-eGroups- X-Yahoo-Profile X-Juno-Line-Breaks X-Mailman- X-BeenThere
ignore X-YahooFilteredBulk X-Header-Overseas X-Header-NoReverseIP
ignore X-MS- Thread- X-Priority X-ASG- X-ORBL X-Barracuda-Spam-
ignore X-DMCA X-Abuse X-AntiAbuse X-RFC2646 X-Postfilter X-Received
ignore X-ML- X-MLServer X-Mail-Count Posted X-Complaints-To Complaints-To
ignore Newsgroups NNTP- X-From-Usenet X-Trace Injection-Info X-rubymirror
ignore Return-Path Message-ID Received Mime-Version Content-Disposition Path
ignore Content-Type Content-Length Status Lines "From "
ignore X-Twitter X-Campaignid X-Forwarded-To X-Forwarded-For X-DKIM X-DomainKeys

# Section: Bindings {{{1
# ----------------------
bind pager , previous-line
bind pager _ previous-line
bind pager < previous-line
bind pager > next-line
bind pager + next-line
bind pager 0 next-page
bind generic 0 next-page
bind index <Esc>N search-opposite
bind attach i exit
