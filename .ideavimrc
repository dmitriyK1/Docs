" list of all actions - :actionlist
" example config https://github.com/amzyang/dotfiles/blob/master/.ideavimrc

let mapleader=" "
let maplocalleader=" "

imap jj <Esc>
imap JJ <Esc>
imap оо <Esc>
nmap vv ggVG
nmap Y y$
" nmap gc :close<cr>
nmap <leader>o :close<cr>
nmap <leader>; :
set ignorecase
set smartcase
set hlsearch
set showmode
set incsearch
set wrapscan
set nonumber
" set relativenumber
nmap <leader><leader> :w<cr>
" nnoremap <space> :
nnoremap Q :
nnoremap <silent> <C-l> :nohlsearch<CR>
set clipboard=unnamed, unnamedplus
set visualbell
set nonumber
set scrolloff=9999
inoremap <C-f> <Right>
inoremap <C-b> <Left>
inoremap <A-f> <S-Right>
inoremap <A-b> <S-Left>
inoremap II <Esc>I
inoremap AA <Esc>A
nmap dJ dG
nmap dK dgg
nmap vJ vG
nmap vK vgg
nmap <M-;> mgA;<Esc>`g
imap <M-;> <Esc>mgA;<Esc>`gi<Right>

" Git
map <leader>gf :action Git.Fetch<CR>
map <leader>gpl :action Git.Pull<CR>
map <leader>gpu :action Vcs.Push<CR>
map <leader>gm :action Git.Merge<CR>
map <leader>gd :action Compare.SameVersion<CR>
map <leader>gc :action CheckinProject<CR>
map <leader>gst :action Git.Stash<CR>
map <leader>gust :action Git.Unstash<CR>
map <leader>grb :action Git.Rebase<CR>
map <leader>gre :action Git.Reset<CR>
map <leader>grm :action Git.Configure.Remotes<CR>
map <leader>gn :action Git.CreateNewBranch<CR><Esc>
map <leader>gb :action Git.Branches<CR><Esc>
map <leader>gl :action Vcs.Show.Log<CR>
map <leader>ga :action Git.Add<CR>

" Refactorings
map <leader>ri :action Inline<CR>
map <leader>rr :action RenameElement<CR>
map <leader>rv :action IntroduceVariable<CR>
map <leader>rm :action Move<CR>
map <leader>ro :action OptimizeImports<CR>
map <leader>rs :action SurroundWith<CR>
map <leader>re :action SurroundWithEmmet<CR>

" Goto
map <leader>fa :action GotoAction<CR>
map <leader>ff :action GotoFile<CR>
map <leader>fs :action GotoSymbol<CR>
map <leader>fu :action FindUsages<CR>
map <leader>fp :action ManageRecentProjects<CR>

" Plugins
map <leader>pi :action WelcomeScreen.Plugins<CR>
map <leader>pu :action CheckForUpdate<CR>

" StringManipulation
map crs :action StringManipulation.ToSnakeCaseOrCamelCase<CR>
map crp :action StringManipulation.ToPascalCaseOrCamelCase<CR>
map crh :action StringManipulation.ToHyphenCaseOrCamelCase<CR>
map crt :action StringManipulation.SwitchStyleAction<CR>

" Close
map <leader>cp :action CloseProject<CR>

" tool windows
map <leader>te :action ActivateEventLogToolWindow<CR>
map <leader>tp :action ActivateProjectToolWindow<CR>
map <leader>ts :action ActivateStructureToolWindow<CR>
map <leader>tt :action ActivateTerminalToolWindow<CR>
map <leader>to :action ActivateTODOToolWindow<CR>
map <leader>tv :action ActivateVersionControlToolWindow<CR>

map [<Space> O<Esc>j<leader><leader>
map ]<Space> o<Esc>k<leader><leader>

map [x k0dd<leader><leader>
map ]x j0ddk<leader><leader>

map [d k0dd<leader><leader>
map ]d j0ddk<leader><leader>

map [e :action MoveLineUp<CR>
map ]e :action MoveLineDown<CR>

" map f :action AceAction<CR>
" map <leader>l :action AceLineAction<CR>
map <leader>a :action AceTargetAction<CR>
map <leader>d :action AceDeclarationAction<CR>

map <leader>k :action HighlightUsagesInFile<CR>

map <leader>se :e ~/.ideavimrc<CR>
map <leader>ss :source ~/.ideavimrc<CR>
map <leader>sl :e ~/.ideavimrc.local<CR>

map <leader>- :action SplitHorizontally<CR>
map <leader>\ :action SplitVertically<CR>

map cru gUiw
map crl guiw
" map crt g~iw

imap <c-a> <c-o>^
imap <c-e> <c-o>$<Right>

nmap ]c :action VcsShowNextChangeMarker<CR>
nmap [c :action VcsShowPrevChangeMarker<CR>

nmap dae ggVGd

nmap g- ciwtrue<Esc>
nmap g= ciwfalse<Esc>

" delete current line from beginning
nmap dal 0dd

nmap ]> j0>>k_
nmap ]< j0<<k_
nmap [> k0>>j_
nmap [< k0<<j_

" enable plugins
" https://github.com/tpope/vim-surround/blob/master/doc/surround.txt#L138
" If f, F, or <C-F> is used, Vim prompts for a function name to insert.
set surround
set multiple-cursors
set commentary " gcc gcip

" set idea-specific settings
set clipboard+=ideaput
set smartjoin " to perform a join via the IDE (deprecated?)
set ideajoin
set ideamarks " :delmark A

" set keep-english-in-normal

nmap <C-n> :action GotoNextError<CR>
nmap <C-p> :action GotoPreviousError<CR>

imap <C-p> <ESC>:action HippieCompletion<CR>a
imap <C-n> <ESC>:action HippieBackwardCompletion<CR>a

imap <C-d> <C-o>x

source ~/.ideavimrc.local
